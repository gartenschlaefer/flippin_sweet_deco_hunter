[gd_scene load_steps=23 format=3 uid="uid://dc3qihbgixi4r"]

[ext_resource type="Script" uid="uid://dns54tk8vh73o" path="res://scripts/test_camera_slide.gd" id="1_0ihmi"]
[ext_resource type="Environment" uid="uid://cntlpekj5push" path="res://materials/world_environment_candy.tres" id="2_0ihmi"]
[ext_resource type="Texture2D" uid="uid://cdj3wfayh7nda" path="res://art/raster_dark.png" id="3_qdbvc"]
[ext_resource type="Texture2D" uid="uid://qk7v22a5wifd" path="res://art/bubaba_boss.png" id="4_w11dd"]
[ext_resource type="Script" uid="uid://jvafnwu6wliy" path="res://scripts/billboarding.gd" id="5_bfqgr"]
[ext_resource type="Shader" uid="uid://b57cre0cvtyhd" path="res://shader/billboard.gdshader" id="6_ckklf"]
[ext_resource type="Script" uid="uid://cfwq5ahckyxcu" path="res://scripts/camera_slide.gd" id="7_fago0"]
[ext_resource type="PackedScene" uid="uid://ctstwaj7v085k" path="res://prefabs/tools/look_marker.tscn" id="8_5334d"]
[ext_resource type="PackedScene" uid="uid://w1uqnm545mln" path="res://prefabs/bubaba.tscn" id="9_0ihmi"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lv0s1"]
render_priority = 0
shader = ExtResource("6_ckklf")
shader_parameter/texture_albedo = ExtResource("4_w11dd")
shader_parameter/uv1_scale = Vector3(1, 1, 1)
shader_parameter/uv1_offset = Vector3(0, 0, 0)

[sub_resource type="PlaneMesh" id="PlaneMesh_5rrt6"]
size = Vector2(1.5, 2.4)
orientation = 2

[sub_resource type="Curve3D" id="Curve3D_qdbvc"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 10, 5, 0, 10, 0, 0, 0, 0, 0, 0, 7, 10, 0, 0, 10, 0, 0, -10, -10, 5, 0, 0, 0, 0, 10, 0, 0, 0, 3, -10),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="NavigationMesh" id="NavigationMesh_5334d"]
vertices = PackedVector3Array(-24.5, 0.5, 0, -1.25, 0.5, 0, -1.25, 0.5, -0.5, 0, 0.5, -1.25, 0, 0.5, -24.5, -24.5, 0.5, -24.5, 0.5, 0.5, -1.25, 1.25, 0.5, 0, 24.5, 0.5, 0, 24.5, 0.5, -24.5, -1.25, 0.5, 9.25, 0, 0.5, 8.5, 0, 0.5, 1.25, -1.25, 0.5, 0.5, -24.5, 0.5, 9.75, -1.25, 0.5, 9.75, 0.5, 0.5, 8.5, 0.5, 0.5, 1.25, 1.25, 0.5, 9.75, 24.5, 0.5, 9.75, 0, 0.5, 24.5, 0, 0.5, 11, -1.25, 0.5, 10.25, -24.5, 0.5, 24.5, 0.5, 0.5, 11, 24.5, 0.5, 24.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(3, 2, 4), PackedInt32Array(4, 2, 0), PackedInt32Array(4, 0, 5), PackedInt32Array(6, 3, 4), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 4), PackedInt32Array(8, 4, 9), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(13, 10, 14), PackedInt32Array(13, 14, 0), PackedInt32Array(0, 1, 13), PackedInt32Array(10, 15, 14), PackedInt32Array(17, 16, 12), PackedInt32Array(12, 16, 11), PackedInt32Array(17, 7, 16), PackedInt32Array(16, 7, 18), PackedInt32Array(18, 7, 8), PackedInt32Array(18, 8, 19), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(22, 23, 14), PackedInt32Array(14, 15, 22), PackedInt32Array(20, 21, 24), PackedInt32Array(24, 18, 20), PackedInt32Array(20, 18, 19), PackedInt32Array(20, 19, 25)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fago0"]
albedo_texture = ExtResource("3_qdbvc")
uv1_scale = Vector3(5, 5, 5)

[sub_resource type="PlaneMesh" id="PlaneMesh_1kaft"]
size = Vector2(50, 50)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_1kaft"]
data = PackedVector3Array(25, 0, 25, -25, 0, 25, 25, 0, -25, -25, 0, 25, -25, 0, -25, 25, 0, -25)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ac5ne"]
albedo_color = Color(0.46666667, 0.41960785, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_5rrt6"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_ravi7"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="Animation" id="Animation_0ihmi"]
length = 0.001
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0.5, 0)

[sub_resource type="Animation" id="Animation_5334d"]
resource_name = "move_cube"
length = 10.0
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0.5, 0, 1.0333333, 1, 0, 0.5, 4.4346404, 3.0333333, 1, -5.08438, 1.604068, -5.093565, 6.0333333, 1, 5.7379303, 4.095164, -9.601345, 9.5, 1, 0, 0.5, 0)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0ihmi"]
_data = {
&"RESET": SubResource("Animation_0ihmi"),
&"move_cube": SubResource("Animation_5334d")
}

[node name="test_camera_slide" type="Node3D" node_paths=PackedStringArray("target_object")]
script = ExtResource("1_0ihmi")
target_object = NodePath("NavigationRegion3D/static_objects/cube")

[node name="env" type="Node3D" parent="."]

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="env"]
transform = Transform3D(-0.28918627, 0.2802713, 0.9153247, -0.12372255, -0.95910275, 0.25458732, 0.9492439, -0.039623145, 0.31203523, 6.849233, 3.079902, 1.0250096)
light_color = Color(1, 0.8494006, 0.7956167, 1)
light_energy = 0.5

[node name="WorldEnvironment" type="WorldEnvironment" parent="env"]
environment = ExtResource("2_0ihmi")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="env"]
transform = Transform3D(0.136632, 0.75684506, -0.6391536, 0, 0.6452044, 0.7640101, 0.99062186, -0.10438822, 0.08815556, -3.7533355, 3.079902, 0)
shadow_enabled = true

[node name="billboards" type="Node3D" parent="."]

[node name="sprite_billboard" type="Sprite3D" parent="billboards"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.2046943, 1.2854984, 0)
billboard = 1
texture = ExtResource("4_w11dd")

[node name="sprite_billboard_y_billboard" type="Sprite3D" parent="billboards"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.4559326, 1.2854984, -1.6373925)
billboard = 2
texture = ExtResource("4_w11dd")

[node name="sprite_billboard_scripted" type="Sprite3D" parent="billboards"]
transform = Transform3D(0.8069088, -5.831467e-09, -0.59067607, -0.16255476, 0.9613866, -0.2220622, 0.5678681, 0.27520114, 0.7757513, -1.1593745, 1.2854984, -2.394898)
texture = ExtResource("4_w11dd")
script = ExtResource("5_bfqgr")

[node name="mesh_billboard_shaded" type="MeshInstance3D" parent="billboards"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.62434244, 1.235928, -3.0955198)
material_override = SubResource("ShaderMaterial_lv0s1")
mesh = SubResource("PlaneMesh_5rrt6")
skeleton = NodePath("../..")

[node name="camera_slide" type="Path3D" parent="." node_paths=PackedStringArray("target_object")]
curve = SubResource("Curve3D_qdbvc")
script = ExtResource("7_fago0")
target_object = NodePath("../NavigationRegion3D/static_objects/cube")

[node name="path_follow" type="PathFollow3D" parent="camera_slide"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.99999994, 10, 5, 0)
rotation_mode = 0

[node name="camera_stand" type="Node3D" parent="camera_slide/path_follow"]

[node name="camera" type="Camera3D" parent="camera_slide/path_follow/camera_stand"]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="look_marker" parent="." node_paths=PackedStringArray("target_object") instance=ExtResource("8_5334d")]
transform = Transform3D(-0.9914857, -0.039804492, -0.12398289, 0, 0.952134, -0.305681, 0.1302158, -0.30307832, -0.94402725, 0.6498709, 2.1022627, 4.9482293)
target_object = NodePath("../NavigationRegion3D/static_objects/cube")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_5334d")

[node name="static_objects" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="ground" type="MeshInstance3D" parent="NavigationRegion3D/static_objects"]
material_override = SubResource("StandardMaterial3D_fago0")
mesh = SubResource("PlaneMesh_1kaft")

[node name="ground_collision" type="CollisionShape3D" parent="NavigationRegion3D/static_objects"]
shape = SubResource("ConcavePolygonShape3D_1kaft")

[node name="cube" type="MeshInstance3D" parent="NavigationRegion3D/static_objects"]
transform = Transform3D(0.7631084, 0, -0.6462705, 0, 1, 0, 0.6462705, 0, 0.7631084, 0, 0.5, 0)
material_override = SubResource("StandardMaterial3D_ac5ne")
mesh = SubResource("BoxMesh_5rrt6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/static_objects/cube"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/static_objects/cube/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.2925963, 0, 7.4302216)
shape = SubResource("ConcavePolygonShape3D_ravi7")

[node name="AnimationPlayer" type="AnimationPlayer" parent="NavigationRegion3D/static_objects/cube"]
libraries = {
&"": SubResource("AnimationLibrary_0ihmi")
}
autoplay = "move_cube"

[node name="bubaba" parent="." instance=ExtResource("9_0ihmi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.983145, 0.08557606, 0)

[node name="bubaba2" parent="." instance=ExtResource("9_0ihmi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.983145, 0.08557606, -1.1091893)
